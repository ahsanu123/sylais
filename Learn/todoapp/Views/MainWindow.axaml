<Window 
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    
    x:Class="TodoApp.Views.MainWindow"
    xmlns:vm="using:TodoApp.ViewModels"
    x:DataType="vm:MainViewModel"
    
    Width="300" Height="500" Padding="4"
    mc:Ignorable="d"
    Title="SimpleToDoList">
    
    <Design.DataContext>
        <vm:MainViewModel/>
    </Design.DataContext>
    
    <Grid 
        RowDefinitions="Auto, *, Auto" 
        x:Name="Root">
        
        <TextBlock Grid.Row="0" Text="My Todo List" Classes="h1"/>
        
        <ScrollViewer Grid.Row="1" >
            <ItemsControl ItemsSource="{Binding ToDoItems}">
                <ItemsControl.ItemTemplate>
                    
                    <DataTemplate DataType="vm:TodoItemViewModel" >
                        
                        <Grid ColumnDefinitions="*, Auto">
                            <CheckBox 
                                IsChecked="{Binding IsChecked}"
                                Content="{Binding Content}"/>
                            
                            <Button
                                Grid.Column="1"
                                Command="{Binding #Root.((vm:MainViewModel)DataContext).RemoveItemCommand}"
                                CommandParameter="{Binding .}">
                                X
                            </Button>
                        </Grid>
                        
                    </DataTemplate>
                    
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
        
        
        <TextBox
            Grid.Row="2"
            Text="{Binding NewItemContent}"
            Watermark="Add a new Jangkrik">
            
            <TextBox.InnerRightContent>
                <Button 
                    Command="{Binding AddItemCommand}">
                    Add
                </Button>
            </TextBox.InnerRightContent>
        </TextBox>
        
    </Grid>
    
    
</Window>